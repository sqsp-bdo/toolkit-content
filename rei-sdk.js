!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.SquarespaceSDK=t():e.SquarespaceSDK=t()}(this,(function(){return(()=>{var e={394:e=>{var t=/^([^=]+)=([^;]*)$/,r=e.exports=function(e,r){e||(e={}),"string"==typeof e&&(e={cookie:e}),void 0===e.cookie&&(e.cookie=""),!1!==r&&(r=!0);var o=function(e){return e},s=r?escape:o,i=r?unescape:o;return{get:function(r){for(var o=e.cookie.split(/;\s*/),s=0;s<o.length;s++){var n=(o[s]||"").match(t)||[];if(i(n[1]||"")===r)return i(n[2]||"")}},set:function(t,r,o){o||(o={});var i=s(t)+"="+s(r);return o.expires&&(i+="; expires="+o.expires),o.path&&(i+="; path="+s(o.path)),o.domain&&(i+="; domain="+s(o.domain)),o.secure&&(i+="; secure"),e.cookie=i,i}}};if("undefined"!=typeof document){var o=r(document);r.get=o.get,r.set=o.set}},299:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDetails=void 0;const o=r(15),s=r(825);t.getDetails=async()=>{const e=s.getContext();e||Promise.reject(new Error("Not a valid Squarespace page."));const t=i(e),r=t===o.PageType.Product?{id:e.item.id}:void 0;return Promise.resolve({website:{id:e.website.id},type:t,product:r})};const i=e=>e.item&&13===e.collection.type?o.PageType.Product:13===e.collection.type?o.PageType.ProductCollection:o.PageType.Other},15:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.PageType=void 0,(r=t.PageType||(t.PageType={})).Product="Product",r.ProductCollection="ProductCollection",r.Other="Other"},591:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDetails=void 0;const o=r(299);Object.defineProperty(t,"getDetails",{enumerable:!0,get:function(){return o.getDetails}})},753:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HttpError=t.get=t.post=void 0,t.post=async(e,t,o={})=>{const s=await fetch(e,Object.assign(Object.assign({method:"POST"},o),{body:JSON.stringify(t)}));if(s.status>=400)throw new r(s.status,await s.text());return s.json()},t.get=async(e,t={})=>{const o=await fetch(e,Object.assign({method:"GET"},t));if(o.status>=400)throw new r(o.status,await o.text());return o.json()};class r{constructor(e,t){this.status=e,this.message=t,this.getStatus=()=>this.status,this.getMessage=()=>this.message}}t.HttpError=r},258:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.get=void 0;const o=r(753);t.get=async()=>{try{const{data:e}=await o.get("/api/commerce/cart");return console.log("@@@@"),console.log(e),e}catch(e){throw new Error("Encountered an unexpected error.")}}},825:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getContext=void 0,t.getContext=()=>{var e;return null===(e=window.Static)||void 0===e?void 0:e.SQUARESPACE_CONTEXT}},901:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.get=void 0;const o=r(394),s=r(753);t.get=async()=>{const e=o.get("siteUserCrumb");if(e)try{return await s.get("/api/extensions/user-profile",{headers:{"X-SiteUser-XSRF-Token":e}})}catch(e){if(e instanceof s.HttpError){const t=e;if(401===t.getStatus()||403===t.getStatus())return Promise.resolve(void 0)}return Promise.reject(new Error("Encountered an unexpected error."))}return Promise.resolve(void 0)}}},t={};function r(o){var s=t[o];if(void 0!==s)return s.exports;var i=t[o]={exports:{}};return e[o](i,i.exports,r),i.exports}var o={};return(()=>{"use strict";var e=o;Object.defineProperty(e,"__esModule",{value:!0}),e.userProfile=e.shoppingCart=e.page=void 0;const t=r(591);e.page=t;const s=r(258);e.shoppingCart=s;const i=r(901);e.userProfile=i})(),o})()}));